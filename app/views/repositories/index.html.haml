%div{class: 'panel panel-default'}
  %div{class: 'panel-heading'}= "#{@account.name} Repositories"
  %div{class: 'panel-body'}
    %table{class: 'table table-bordered table-hover'}
      %thead
        %tr
          %th= 'Name'
          %th= 'Location'
          %th= 'Disable'
      %tbody
        - @registered.each do |repo|
          %tr
            %td= repo.short_name
            %td= repo.url
            %td{class: 'text-center'}
              %a{href: repository_disable_url(repo, :account_id => @account), style: 'color: red'}
                %span{class: 'glyphicon glyphicon-remove'}

    %table{class: 'table table-bordered table-hover'}
      %thead
        %tr
          %th= 'Name'
          %th= 'Location'
          %th= 'Enable'
      %tbody
        - @unregistered.each do |repo|
          %tr
            %td= repo.name
            %td= repo.rels[:git].href
            %td{class: 'text-center'}
              %a{:href => '#', 'data-toggle' => 'modal', 'data-target' => '#repo_add_options', style: 'color: green', 'repo-name' => repo.full_name, 'repo-url' => repository_enable_url(Base64.encode64(repo.full_name), :account_id => @account), class: 'repo-enable'}
                %span{class: 'glyphicon glyphicon-plus'}

  - if @footer
    %div{class: 'panel-footer'}= render(partial: @footer, locals: {obj: @items})

= render :partial => 'repositories/enable_popup'
